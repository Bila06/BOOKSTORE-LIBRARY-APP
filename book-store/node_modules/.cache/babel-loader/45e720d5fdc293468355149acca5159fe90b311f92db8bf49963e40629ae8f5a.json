{"ast":null,"code":"import _defineProperty from\"C:/Users/Vivlia ICT/BOOKSTORE-LIBRARY-APP/book-store/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Vivlia ICT/BOOKSTORE-LIBRARY-APP/book-store/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Vivlia ICT/BOOKSTORE-LIBRARY-APP/book-store/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Vivlia ICT/BOOKSTORE-LIBRARY-APP/book-store/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Vivlia ICT/BOOKSTORE-LIBRARY-APP/book-store/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box,Button,Checkbox,FormControlLabel,FormLabel,TextField}from'@mui/material';import axios from\"axios\";import React,{useEffect,useState}from'react';import{useNavigate,useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BookDetail(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var id=useParams().id;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),checked=_useState4[0],setChecked=_useState4[1];var history=useNavigate();useEffect(function(){var fetchHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:5000/books/\".concat(id)).then(function(res){return res.data;}).then(function(data){return setInputs(data.book);});case 2:case\"end\":return _context.stop();}},_callee);}));return function fetchHandler(){return _ref.apply(this,arguments);};}();fetchHandler();},[id]);var sendRequest=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.put(\"http://localhost:5000/books/\".concat(id),{name:String(inputs.name),author:String(inputs.author),description:String(inputs.description),price:Number(inputs.price),image:String(inputs.image),available:Boolean(checked)}).then(function(res){return res.data;});case 2:case\"end\":return _context2.stop();}},_callee2);}));return function sendRequest(){return _ref2.apply(this,arguments);};}();var handleSubmit=function handleSubmit(e){e.preventDefault();sendRequest().then(function(){return history(\"/books\");});};var handleChange=function handleChange(e){setInputs(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};return/*#__PURE__*/_jsx(\"div\",{children:inputs&&/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",justifyContent:'center',maxWidth:700,alignContent:\"center\",marginLeft:\"auto\",marginRight:\"auto\",marginTop:10,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Name\"}),/*#__PURE__*/_jsx(TextField,{value:inputs.name,onChange:handleChange,margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"name\"}),/*#__PURE__*/_jsx(FormLabel,{children:\"Author\"}),/*#__PURE__*/_jsx(TextField,{value:inputs.author,onChange:handleChange,margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"author\"}),/*#__PURE__*/_jsx(FormLabel,{children:\"Description\"}),/*#__PURE__*/_jsx(TextField,{value:inputs.description,onChange:handleChange,margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"description\"}),/*#__PURE__*/_jsx(FormLabel,{children:\"Price\"}),/*#__PURE__*/_jsx(TextField,{value:inputs.price,onChange:handleChange,type:\"number\",margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"price\"}),/*#__PURE__*/_jsx(FormLabel,{children:\"Image\"}),/*#__PURE__*/_jsx(TextField,{value:inputs.image,onChange:handleChange,margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"image\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{checked:checked,onChange:function onChange(){return setChecked(!checked);}}),label:\"Available\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",type:\"submit\",children:\"Update Book\"})]})})});}export default BookDetail;","map":{"version":3,"names":["Box","Button","Checkbox","FormControlLabel","FormLabel","TextField","axios","React","useEffect","useState","useNavigate","useParams","jsx","_jsx","jsxs","_jsxs","BookDetail","_useState","_useState2","_slicedToArray","inputs","setInputs","id","_useState3","_useState4","checked","setChecked","history","fetchHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","get","concat","then","res","data","book","stop","apply","arguments","sendRequest","_ref2","_callee2","_callee2$","_context2","put","name","String","author","description","price","Number","image","available","Boolean","handleSubmit","e","preventDefault","handleChange","prevState","_objectSpread","_defineProperty","target","value","children","onSubmit","display","flexDirection","justifyContent","maxWidth","alignContent","marginLeft","marginRight","marginTop","onChange","margin","fullWidth","variant","type","control","label"],"sources":["C:/Users/Vivlia ICT/BOOKSTORE-LIBRARY-APP/book-store/src/components/Book/BookDetail.js"],"sourcesContent":["import { Box, Button, Checkbox, FormControlLabel, FormLabel, TextField } from '@mui/material';\r\nimport axios from \"axios\";\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\n\r\nfunction BookDetail() {\r\n    const [inputs, setInputs] = useState({});\r\nconst id = useParams().id;\r\nconst [checked, setChecked] = useState(false);\r\nconst history = useNavigate();\r\n    useEffect(() => {\r\n  const fetchHandler = async () => {\r\nawait axios.get(`http://localhost:5000/books/${id}`)\r\n.then((res) =>  res.data).then(data => setInputs(data.book));\r\n\r\n  };\r\nfetchHandler();\r\n\r\n    }, [id]);\r\n\r\n    const sendRequest = async() =>{\r\nawait axios.put(`http://localhost:5000/books/${id}`, {\r\n  name: String(inputs.name),\r\nauthor: String(inputs.author),\r\ndescription: String(inputs.description),\r\nprice: Number(inputs.price),\r\nimage: String(inputs.image),\r\navailable: Boolean(checked)\r\n\r\n}).then(res => res.data)\r\n\r\n    };\r\n\r\nconst handleSubmit = (e) => {\r\n e.preventDefault();\r\n sendRequest().then(()=> history(\"/books\"))\r\n\r\n};\r\nconst handleChange = (e) => {\r\n  setInputs((prevState) => ({\r\n    ...prevState,\r\n    [e.target.name]: e.target.value\r\n    \r\n    }))\r\n   \r\n   };\r\n\r\n\r\n  return (<div>\r\n   { inputs && (\r\n    <form onSubmit={handleSubmit} >\r\n    <Box\r\n     display=\"flex\" \r\n     flexDirection=\"column\"  \r\n     justifyContent={'center'}\r\n     maxWidth={700}\r\n     alignContent={\"center\"}\r\n     marginLeft={\"auto\"}\r\n     marginRight={\"auto\"}\r\n     marginTop={10}\r\n     \r\n     \r\n     >\r\n<FormLabel>Name</FormLabel>\r\n      <TextField  \r\n      value={inputs.name} \r\n      onChange={handleChange} \r\n      margin=\"normal\" \r\n      fullWidth \r\n      variant=\"outlined\" \r\n      name=\"name\" \r\n      />\r\n      <FormLabel>Author</FormLabel>\r\n      <TextField \r\n      value={inputs.author} \r\n      onChange={handleChange} \r\n      margin=\"normal\" \r\n      fullWidth \r\n      variant=\"outlined\" \r\n      name=\"author\" />\r\n      <FormLabel>Description</FormLabel>\r\n      <TextField \r\n      value={inputs.description} \r\n      onChange={handleChange} \r\n      margin=\"normal\" \r\n      fullWidth \r\n      variant=\"outlined\" \r\n      name=\"description\" \r\n      />\r\n      <FormLabel>Price</FormLabel>\r\n      <TextField \r\n      value={inputs.price} \r\n      onChange={handleChange} \r\n      type=\"number\" \r\n      margin=\"normal\" \r\n      fullWidth \r\n      variant=\"outlined\" \r\n      name=\"price\" \r\n      />\r\n      <FormLabel>Image</FormLabel>\r\n      <TextField \r\n      value={inputs.image} \r\n      onChange={handleChange} \r\n      margin=\"normal\" \r\n      fullWidth \r\n      variant=\"outlined\" \r\n      name=\"image\" \r\n      />\r\n      <FormControlLabel \r\n      control={<Checkbox checked={checked} onChange={() => setChecked(!checked)} />} \r\n      label=\"Available\" \r\n      />\r\n      <Button variant=\"contained\" type=\"submit\">Update Book</Button>\r\n      </Box>\r\n    </form>)}\r\n\r\n\r\n  </div>);\r\n}\r\n\r\nexport default BookDetail;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}